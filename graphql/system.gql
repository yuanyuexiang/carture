# 系统级查询 - 获取当前用户完整信息
query GetCurrentUser {
  users_me {
    id
    email
    first_name
    last_name
    location
    title
    description
    tags
    avatar {
      id
      filename_download
      title
      type
      width
      height
      filesize
    }
    language
    status
    role {
      id
      name
      description
      icon
    }
    last_access
    last_page
    provider
    email_notifications
    appearance
    theme_dark
    theme_light
    text_direction
  }
  
  # 获取当前用户权限信息
  permissions_me
  
  # 获取当前用户所有角色
  roles_me {
    id
    name
    description
    icon
  }
}

# 系统级变更 - 更新当前用户信息（支持更多字段）
mutation UpdateCurrentUser($data: update_directus_users_input!) {
  update_users_me(data: $data) {
    id
    email
    first_name
    last_name
    location
    title
    description
    tags
    avatar {
      id
      filename_download
    }
    language
    status
    email_notifications
    appearance
    theme_dark
    theme_light
    text_direction
  }
}
